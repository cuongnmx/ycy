window.__require=function t(e,n,o){function i(r,s){if(!n[r]){if(!e[r]){var a=r.split("/");if(a=a[a.length-1],!e[a]){var u="function"==typeof __require&&__require;if(!s&&u)return u(a,!0);if(c)return c(a,!0);throw new Error("Cannot find module '"+r+"'")}}var h=n[r]={exports:{}};e[r][0].call(h.exports,function(t){return i(e[r][1][t]||t)},h,h.exports,t,e,n,o)}return n[r].exports}for(var c="function"==typeof __require&&__require,r=0;r<o.length;r++)i(o[r]);return i}({CommentItem:[function(t,e,n){"use strict";cc._RF.push(e,"2aba0vnB8RDCqe/NRZVAoDx","CommentItem"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,c=o.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.contentLabel=null,e.likeCountsLabel=null,e.likeIcon=null,e.likedIcon=null,e.dislikeIcon=null,e.dislikedIcon=null,e.isPositive=!0,e.likeCounds=0,e.isCorrect=!1,e}return __extends(e,t),e.prototype.init=function(t,e,n,o){this.contentLabel.string=t+"\uff1a"+e,this.isPositive=n,this.likeCounds=0===o?101:Math.floor(2*Math.random())-3*o+100,this.likeCountsLabel.string=this.likeCounds+"",this.resetLikeButton()},e.prototype.resetLikeButton=function(){this.likeIcon.active=!0,this.dislikeIcon.active=!0,this.likedIcon.active=!1,this.dislikedIcon.active=!1},e.prototype.like=function(){return this.likeCounds++,this.likeCountsLabel.string=this.likeCounds+"",this.likeIcon.active=!1,this.likedIcon.active=!0,this.isCorrect=this.isPositive,this.isCorrect},e.prototype.dislike=function(){return this.dislikeIcon.active=!1,this.dislikedIcon.active=!0,this.isCorrect=!this.isPositive,this.isCorrect},__decorate([c(cc.Label)],e.prototype,"contentLabel",void 0),__decorate([c(cc.Label)],e.prototype,"likeCountsLabel",void 0),__decorate([c(cc.Node)],e.prototype,"likeIcon",void 0),__decorate([c(cc.Node)],e.prototype,"likedIcon",void 0),__decorate([c(cc.Node)],e.prototype,"dislikeIcon",void 0),__decorate([c(cc.Node)],e.prototype,"dislikedIcon",void 0),e=__decorate([i],e)}(cc.Component);n.CommentItem=r,cc._RF.pop()},{}],Config:[function(t,e,n){"use strict";cc._RF.push(e,"76a9db0TpdISI0jK1TWi+OI","Config"),Object.defineProperty(n,"__esModule",{value:!0}),n.CommentsData={PositiveList:[{name:"\u8d85\u8d85\u8d8a\u8d8a\u5c0f\u8ff7\u59b9",content:"\u6765\u4e86\u6765\u4e86",positive:!0},{name:"\u8d85\u8d85\u8d8a\u8d8a\u5c0f\u8ff7\u5f1f",content:"\u597d\u770b\u7684\u554a",positive:!0},{name:"\u6751\u6c11\u4e00\u53f7",content:"\u671f\u5f85\u4eca\u665a@ycy",positive:!0},{name:"\u6751\u6c11\u4e8c\u53f7",content:"\u671f\u5f85",positive:!0},{name:"\u6751\u6c11\u4e09\u53f7",content:"cy\u59b9\u59b9\u592a\u53ef\u7231\u4e86\u5427",positive:!0},{name:"cy\u5411\u524d\u51b2",content:"\u6b63\u80fd\u91cf\u5076\u50cf\uff0c\u6b63\u80fd\u91cf\u7c89\u4e1d",positive:!0},{name:"cy\u662f\u4ed9\u5973\u554a",content:"\u54c8\u54c8\u54c8\u54c8\u54c8",positive:!0},{name:"\u7f8a\u6751\u7ba1\u7406\u5458",content:"\u554a\u554a\u554a\u554a\u554a\u554a\u554a\u6211\u6b7b\u4e86",positive:!0}],NagetiveList:[{name:"\u8ff7\u8def\u7684\u6728\u5b50",content:"\u54ea\u91cc\u6765\u7684\u5341\u516b\u7ebf\uff0c\u4e0d\u8ba4\u8bc6\u3002",positive:!1},{name:"\u9e7f\u53d4\u53d4",content:"\u5e7f\u5764\u5b87\u5b99\u6700\u5e05\u3002",positive:!1},{name:"\u9f99\u54e5\u5b87\u5b99\u6700\u5e05",content:"\u4e0d\u597d\u610f\u601d\uff0c\u6211\u53ea\u8ba4\u8bc6\u6211\u5bb6\u5764\u5764\u3002",positive:!1},{name:"\u5b59\u7384\u5c18\u7c89\u4e1d",content:"\u5b59\u7384\u5c18\u65e9\u5728\u53bb\u5e74\u5c31\u8bf4\u8fc7\u4eca\u5e74\u662f2019\u5e74\u3002",positive:!1},{name:"\u67e0\u6aac\u4e00\u53f7",content:"\u4e0d\u662f\u8c01\u7684\u7c89\uff0c\u6211\u89c9\u5f97\u4e0d\u884c\u3002",positive:!1},{name:"\u8def\u4eba\u4e00\u53f7",content:"\u53ea\u6709\u6211\u4e00\u4e2a\u4eba\u89c9\u5f97\u5f88\u4e0d\u597d\u770b\u4e48\uff1f",positive:!1},{name:"\u67e0\u6aac\u4e8c\u53f7",content:"\u8bf7\u95ee\u6709\u4ec0\u4e48\u4f5c\u54c1\u5417\uff1f\uff1f\uff1f",positive:!1},{name:"\u8def\u4eba\u4e8c\u53f7",content:"\u8def\u4eba\u89c9\u5f97\u4e00\u822c\u5427\u3002",positive:!1},{name:"yxh001",content:"\u5979\u5bb6\u7684\u978b\u5b50\u6700\u597d\u770b\u4e86@yxh002",positive:!1},{name:"yxh002",content:"\u5feb\u53bb\u770b\u806a\u54e5\u5fae\u535a\uff0c\u6211\u9886\u4e86250\u3002",positive:!1}]},cc._RF.pop()},{}],DearAction:[function(t,e,n){"use strict";cc._RF.push(e,"31cf8sRklxE2r8ifAzIsWoc","DearAction"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.moveCenterToLeft=function(t,e,n){this.placeCenter(t);var o=cc.moveTo(.5,this.leftX,0).easing(cc.easeIn(2)),i=cc.callFunc(e,n),c=cc.sequence(o,i);t.runAction(c)},t.moveCenterToRight=function(t,e,n){this.placeCenter(t);var o=cc.moveTo(.5,this.rightX,0).easing(cc.easeIn(2)),i=cc.callFunc(e,n),c=cc.sequence(o,i);t.runAction(c)},t.moveRightToCenter=function(t,e,n){this.placeRight(t);var o=cc.moveTo(.5,0,0).easing(cc.easeBackOut()),i=cc.callFunc(e,n),c=cc.sequence(o,i);t.runAction(c)},t.moveLeftToCenter=function(t,e,n){this.placeLeft(t);var o=cc.moveTo(.5,0,0).easing(cc.easeBackOut()),i=cc.callFunc(e,n),c=cc.sequence(o,i);t.runAction(c)},t.placeLeft=function(t){t.x=this.leftX},t.placeRight=function(t){t.x=this.rightX},t.placeCenter=function(t){t.x=0},t.leftX=-1e3,t.rightX=1e3,t}();n.DearAction=o,cc._RF.pop()},{}],DearMath:[function(t,e,n){"use strict";cc._RF.push(e,"e72e6UYZyRFXbVkXJ9n6GTP","DearMath"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.GetRandomSubArray=function(t,e){for(var n=t.concat(),o=[],i=0;i<e;i++){var c=Math.random()*n.length|0;o.push(n[c]),n.splice(c,1)}return o},t.GetRandomIndexInArray=function(t){return Math.random()*t.length|0},t.GetRandomIntegerInRange=function(t,e,n,o){void 0===n&&(n=!0),void 0===o&&(o=!0);var i=n?t:t+1,c=o?e+1:e;return i+Math.floor(Math.random()*(c-i))},t.ShuffleArray=function(t){for(var e,n=t.length;n;){var o=Math.floor(Math.random()*n--);e=[t[n],t[o]],t[o]=e[0],t[n]=e[1]}return t},t}();n.DearMath=o,cc._RF.pop()},{}],Guide:[function(t,e,n){"use strict";cc._RF.push(e,"b740bHR32pBp5amqjBz0Ia7","Guide"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,c=(o.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.close=function(){this.node.active=!1},e=__decorate([i],e)}(cc.Component));n.Over=c,cc._RF.pop()},{}],LoadingScene:[function(t,e,n){"use strict";cc._RF.push(e,"40816c/7L5Hsqu0X//ysrVH","LoadingScene"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,c=(o.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){cc.director.preloadScene("main",null,function(){}),this.scheduleOnce(function(){cc.director.loadScene("main")},3)},e=__decorate([i],e)}(cc.Component));n.LoadingScene=c,cc._RF.pop()},{}],MainScene:[function(t,e,n){"use strict";cc._RF.push(e,"6d2adw3Rl1MO6CMgNNf6XR1","MainScene"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./CommentItem"),i=t("./Timer"),c=t("../utils/DearMath"),r=t("./Config"),s=t("../utils/DearAction"),a=t("./Over"),u=cc._decorator,h=u.ccclass,p=u.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.commentContainer=null,e.commentItems=[],e.likeButton=null,e.dislikeButton=null,e.switchButton=null,e.timer=null,e.correctRateLabel=null,e.over=null,e.isPlaying=!1,e.currentIndex=0,e.correctCounts=0,e.wrongCounts=0,e}return __extends(e,t),e.prototype.start=function(){this.addEventListeners()},e.prototype.startGame=function(){this.isPlaying=!0;var t=this.commentItems.length;this.comments=this.getRandomComments(t);for(var e=0;e<t;e++)this.commentItems[e].init(this.comments[e].name,this.comments[e].content,this.comments[e].positive,e);this.currentIndex=0,this.correctCounts=0,this.wrongCounts=0,this.updateCorrectRate(),this.timer.reset(0,99999),this.timer.run(),this.switchButton.active=!1},e.prototype.overGame=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return this.isPlaying=!1,this.timer.stop(),this.over.show(this.timer.time,this.onOverRestart,this),[2]})})},e.prototype.judgeWin=function(){return!!(this.commentItems[0].isPositive&&this.commentItems[1].isPositive&&this.commentItems[2].isPositive)},e.prototype.updateCorrectRate=function(){var t=this.correctCounts+this.wrongCounts;this.correctRateLabel.string=0===t?"\u6b63\u786e\u7387\uff1a0%":"\u6b63\u786e\u7387\uff1a"+Math.floor(this.correctCounts/t*100)+"%"},e.prototype.addTime=function(t){this.timer.time+=t},e.prototype.getRandomComments=function(t){var e=c.DearMath.GetRandomSubArray(r.CommentsData.PositiveList,3),n=c.DearMath.GetRandomSubArray(r.CommentsData.NagetiveList,2);return[n.pop()].concat(c.DearMath.ShuffleArray(e.concat(n)))},e.prototype.afterInput=function(t,e){var n,o;if(void 0===e&&(e=!1),t?this.correctCounts++:(this.wrongCounts++,this.addTime(5)),this.updateCorrectRate(),e&&this.currentIndex>0){var i=this.commentItems[this.currentIndex-1],c=this.commentItems[this.currentIndex];c.likeCounds>i.likeCounds&&(n=[c.node.position,i.node.position],i.node.position=n[0],c.node.position=n[1],o=[this.commentItems[this.currentIndex-1],this.commentItems[this.currentIndex]],this.commentItems[this.currentIndex]=o[0],this.commentItems[this.currentIndex-1]=o[1])}this.currentIndex++,this.judgeWin()?this.overGame():this.currentIndex===this.commentItems.length&&(this.switchButton.active=!0)},e.prototype.onBtnLike=function(){if(this.isPlaying&&this.currentIndex<this.commentItems.length){var t=this.commentItems[this.currentIndex].like();this.afterInput(t,!0)}},e.prototype.onBtnDislike=function(){if(this.isPlaying&&this.currentIndex<this.commentItems.length){var t=this.commentItems[this.currentIndex].dislike();this.afterInput(t)}},e.prototype.onBtnSwitchAccount=function(){var t=this;this.isPlaying&&this.currentIndex===this.commentItems.length&&(this.isPlaying=!1,this.timer.stop(),s.DearAction.moveCenterToLeft(this.commentContainer,function(){t.commentItems.forEach(function(t){return t.resetLikeButton()}),s.DearAction.moveLeftToCenter(t.commentContainer,function(){t.isPlaying=!0,t.currentIndex=0,t.switchButton.active=!1,t.timer.run()},t)},this))},e.prototype.onOverRestart=function(){this.over.hide(),this.startGame()},e.prototype.addEventListeners=function(){this.likeButton.on(cc.Node.EventType.TOUCH_END,this.onBtnLike,this),this.dislikeButton.on(cc.Node.EventType.TOUCH_END,this.onBtnDislike,this),this.switchButton.on(cc.Node.EventType.TOUCH_END,this.onBtnSwitchAccount,this)},__decorate([p(cc.Node)],e.prototype,"commentContainer",void 0),__decorate([p([o.CommentItem])],e.prototype,"commentItems",void 0),__decorate([p(cc.Node)],e.prototype,"likeButton",void 0),__decorate([p(cc.Node)],e.prototype,"dislikeButton",void 0),__decorate([p(cc.Node)],e.prototype,"switchButton",void 0),__decorate([p(i.Timer)],e.prototype,"timer",void 0),__decorate([p(cc.Label)],e.prototype,"correctRateLabel",void 0),__decorate([p(a.Over)],e.prototype,"over",void 0),e=__decorate([h],e)}(cc.Component);n.MainScene=l,cc._RF.pop()},{"../utils/DearAction":"DearAction","../utils/DearMath":"DearMath","./CommentItem":"CommentItem","./Config":"Config","./Over":"Over","./Timer":"Timer"}],OpacityButton:[function(t,e,n){"use strict";cc._RF.push(e,"f3f1fjWz81GKZCBnUgvaTvR","OpacityButton"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,c=(o.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},e.prototype.onTouchStart=function(){this.node.opacity=100},e.prototype.onTouchEnd=function(){this.node.opacity=30},e=__decorate([i],e)}(cc.Component));n.OpacityButton=c,cc._RF.pop()},{}],Over:[function(t,e,n){"use strict";cc._RF.push(e,"2a95408XRND8pLtCfguFWrn","Over"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,c=o.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scoreLabel=null,e.rankLabel=null,e.restartButton=null,e}return __extends(e,t),e.prototype.show=function(t,e,n){this.node.active=!0,this.scoreLabel.string=t.toFixed(1)+"s";var o=100-(t-20);o>100&&(o=100),o<.1&&(o=.1),this.rankLabel.string="\u8d85\u8d8a\u4e86\u5168\u6751"+o.toFixed(1)+"%\u7684\u6708\u82bd",this.restartButton.once(cc.Node.EventType.TOUCH_END,e,n)},e.prototype.hide=function(){this.node.active=!1},__decorate([c(cc.Label)],e.prototype,"scoreLabel",void 0),__decorate([c(cc.Label)],e.prototype,"rankLabel",void 0),__decorate([c(cc.Node)],e.prototype,"restartButton",void 0),e=__decorate([i],e)}(cc.Component);n.Over=r,cc._RF.pop()},{}],Timer:[function(t,e,n){"use strict";cc._RF.push(e,"b8779N9Vs9M4aTeTsmSnaIq","Timer"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,c=o.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timerLabel=null,e.isStart=!1,e.time=0,e.order=1,e.completeTime=null,e.completeCb=null,e.isTimeOver=!1,e}return __extends(e,t),e.prototype.run=function(){this.schedule(this.tick,.1)},e.prototype.tick=function(){this.time+=.1*this.order,null!==this.completeTime&&(this.order>0?this.time>=this.completeTime:this.time<=this.completeTime)&&(this.time=this.completeTime,this.isTimeOver=!0,this.stop(),this.completeCb&&this.completeCb()),this.timerLabel.string=this.time.toFixed(1)+" s"},e.prototype.stop=function(){this.unschedule(this.tick)},e.prototype.reset=function(t,e,n){this.time=t,this.completeTime=e,this.order=e>t?1:-1,this.isTimeOver=!1,this.timerLabel.string=this.time+".0 s",n&&(this.completeCb=n)},e.prototype.getTimeStr=function(){return this.timerLabel.string},__decorate([c(cc.Label)],e.prototype,"timerLabel",void 0),e=__decorate([i],e)}(cc.Component);n.Timer=r,cc._RF.pop()},{}]},{},["CommentItem","Config","Guide","LoadingScene","MainScene","OpacityButton","Over","Timer","DearAction","DearMath"]);